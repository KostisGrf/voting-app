
<div class="accordion accordion-flush border rounded p-3 mb-4" id="accordionFlushExample">
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" 
                data-bs-toggle="collapse" 
                [attr.data-bs-target]="'#flush-collapse-' + _poll.id" 
                [attr.aria-controls]="'flush-collapse-' + _poll.id" aria-expanded="false">
        <h3>{{_poll.question}}</h3>
      </button>
    </h2>
    <div [id]="'flush-collapse-' + _poll.id" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <p class="text-secondary">total votes: {{totalVotes}}</p>

    

    @for (option of _poll.options; track $index) {
        <div class="options-list">
            <button #optionBtn 
                (click)="vote($index,optionBtn)" 
                class="vote-button d-flex justify-content-between align-items-center ps-3" 
                [style.--vote-width]="getPercentage(option) + '%'"
                [style.--button-color]="getOptionColor($index)"
                [class.border-primary]="$index === votedIndex"
                >
  
        <span class="optionVote">{{ option.voteOption }}</span>
        <span *ngIf="pollVoted" class="text-end">{{ getPercentage(option) | number:'1.0-0' }}%</span>
</button>

        </div>
    }
       </div>
    </div>
  </div> 
</div>



